<!-- Nem kinyitott navbar: -->
<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12 d-flex justify-content-between align-items-center" id="closedCol">
      <button (click)="showNavBar.set(true)" class="d-flex justify-content-center align-items-center">
        <span class="material-symbols-outlined">menu</span>
      </button>

      <div class="d-flex justify-content-center align-items-center flex-column">
      @if(userService.user() == null){
        <button routerLink="/login" class="d-flex justify-content-center align-items-center">
          <span id="userIcon" class="material-symbols-outlined">
            account_circle
          </span>
        </button>
      }@else {
        <img routerLink="/profilePage" [src]="userService.user()?.getPfpPath" alt="" id="pfpImage">
      }
      </div>

    </div>
  </div>
</div>

<!-- Kinyitott navbar: -->
@if(showNavBar()){
  <div class="container-fluid" id="openedContainer">
    <!-- 1. -->
    <div class="row" style="z-index: 9999 !important;">
      <div class="col-lg-12 mt-4 d-flex justify-content-between align-items-center">

        <button (click)="showNavBar.set(false)" class="d-flex justify-content-center align-items-center">
          <span class="material-symbols-outlined">menu</span>
        </button>

        <a routerLink="/homePage" (click)="showNavBar.set(false)">
          <img src="assets/images/logo.png" alt="logo_img" class="img-fluid" id="logoImg">
        </a>

        @if(userService.user() == null){
          <button routerLink="/login" (click)="showNavBar.set(false)" class="d-flex justify-content-center align-items-center">
            <span id="userIcon" class="material-symbols-outlined">
              account_circle
            </span>
          </button>
        }@else {
          <img routerLink="/profilePage" [src]="userService.user()?.getPfpPath" alt="" id="pfpImage">
        }

      </div>
    </div>

    <!-- 2. -->
    <div class="row" id="listRow">
      <div class="col-lg-12 h-100 d-flex justify-content-center align-items-center">
        <ul>
          <li class="my-2" routerLink="/homePage" (click)="showNavBar.set(false)" [class.active]="router.url == '/homePage'">Főoldal</li>

          @if(userService.user()?.getRole?.getName  == "ROLE_user" || userService.user() == null){
            <li class="my-2" routerLink="/makeReservation" (click)="showNavBar.set(false)" [class.active]="router.url == '/makeReservation'">Időpont foglalás</li>
          } @else if (userService.user()?.getRole?.getName == "ROLE_admin" || userService.user()?.getRole?.getName == "ROLE_superAdmin") {
            <li class="my-2" routerLink="/adminPage" (click)="showNavBar.set(false)" [class.active]="router.url == '/adminPage'">Admin Page</li>
          }

          <li class="my-2" routerLink="/priceList" (click)="showNavBar.set(false)" [class.active]="router.url == '/priceList'">Árlista</li>
          <li class="my-2" routerLink="/equipments" (click)="showNavBar.set(false)" [class.active]="router.url == '/equipments'">Felszerelés</li>
          <li class="my-2" routerLink="/reviews" (click)="showNavBar.set(false)" [class.active]="router.url == '/reviews'">Vélemények</li>
          <li class="my-2" routerLink="/gallery" (click)="showNavBar.set(false)" [class.active]="router.url == '/gallery'">Galléria</li>

        </ul>
      </div>
    </div>
  </div>
}
