<div class="container-fluid">
  <div class="row mt-4">
    <div class="col-lg-4 d-flex justify-content-center align-items-center">
      <mat-card class="demo-inline-calendar-card">
        <mat-card-header>
          <mat-card-subtitle style="color: white"
            >Válasszon dátumot:</mat-card-subtitle
          >
          <mat-card-title style="color: white">{{
            selectedDateText()
          }}</mat-card-title>
        </mat-card-header>
        <mat-calendar
          [minDate]="currentDate"
          [maxDate]="maxDate"
          [(selected)]="selectedDate"
        ></mat-calendar>
      </mat-card>
    </div>

    <!-- Terem kezelese -->
    <div class="col-lg-4 d-flex justify-content-center align-items-center">
      <div class="cardDiv reservationCard">
        <h1 class="text-center mainFont my-3">Terem kezelése</h1>

        <div>
          <h2>Terem bezárása</h2>
          <div class="d-flex justify-content-between align-items-center">
            <h5>Egy napra</h5>
            <button>
              <span class="material-symbols-outlined">arrow_drop_down</span>
            </button>
          </div>
          <div class="d-flex justify-content-between align-items-center">
            <h5>Intervallum</h5>
            <button>
              <span class="material-symbols-outlined">arrow_drop_down</span>
            </button>
          </div>
          <div class="d-flex justify-content-between align-items-center">
            <h5>Ismétlődő dátumok</h5>
            <button>
              <span class="material-symbols-outlined">arrow_drop_down</span>
            </button>
          </div>
        </div>

        <div>
          <h2>Terem foglalása saját célra</h2>
          <div class="d-flex justify-content-between align-items-center">
            <h5>Egyszeri foglalás</h5>
            <button>
              <span class="material-symbols-outlined">arrow_right</span>
            </button>
          </div>
          <div class="d-flex justify-content-between align-items-center">
            <h5>Ismétlődő időpontok két dátum között</h5>
            <button>
              <span class="material-symbols-outlined">arrow_drop_down</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Foglalások kezelése -->
    <div class="col-lg-4 d-flex justify-content-center align-items-center">
      <div class="cardDiv reservationCard container-fluid">
        <div class="row">
          <div class="col-lg-12 d-flex flex-column justify-content-center">
            <h1 class="text-center my-3">Mai nap foglalásai</h1>
            <div style="overflow-y: scroll">
              @for (reservation of reservationsOfSelectedDate(); track $index) {
              <app-reservation-card
                [reservationDetails]="reservation"
                [parentComponent]="'adminPage'"
                (showDetailsOutput)="showReservationDetails($event)"
              />
              }
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row my-4">
    <div class="col-lg-4 d-flex justify-content-center align-items-center">
      <div
        class="cardDiv d-flex justify-content-center align-items-center"
        (click)="
          selectObjectList('Kategóriák listája', 'newEntity', 'deviceCategory')
        "
      >
        <p class="text-center">Eszközök kezelése</p>
      </div>
    </div>

    <div class="col-lg-4 d-flex justify-content-center align-items-center">
      <div
        class="cardDiv d-flex justify-content-center align-items-center"
        (click)="selectObjectList('Hírek kezelése', 'newEntity', 'news')"
      >
        <p class="text-center">Hírek kezelése</p>
      </div>
    </div>

    <div class="col-lg-4 d-flex justify-content-center align-items-center">
      <div
        class="cardDiv d-flex justify-content-center align-items-center"
        (click)="
          selectObjectList('Próba Kategóriák', 'newEntity', 'reservationType')
        "
      >
        <p class="text-center">Próba lehetőségek kezelése</p>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-4 d-flex justify-content-center align-items-center">
      <div
        class="cardDiv d-flex justify-content-center align-items-center"
        (click)="
          selectObjectList('Szabályzat szerkesztése', 'saveChanges', 'rule')
        "
      >
        <p class="text-center">Szabályzat szerkesztése</p>
      </div>
    </div>

    <div class="col-lg-4 d-flex justify-content-center align-items-center">
      <div
        class="cardDiv d-flex justify-content-center align-items-center"
        (click)="
          selectObjectList('Galléria szerkesztése', 'galleryView', 'gallery')
        "
      >
        <p class="text-center">Galléria szerkesztése</p>
      </div>
    </div>

    <div class="col-lg-4 d-flex justify-content-center align-items-center">
      <div
        class="cardDiv d-flex justify-content-center align-items-center"
        (click)="selectObjectList('', '', 'other')"
      >
        <p class="text-center">Adminok kezelése</p>
      </div>
    </div>
  </div>

  <div class="row position-fixed w-100">
    <div class="col-lg-12 d-flex justify-content-end align-items-center">
      <button id="historyButton" class="d-flex justify-content-center align-items-center mx-4 mb-5">
        <span class="material-symbols-outlined">history</span>
      </button>
    </div>
  </div>
</div>

@if(isShowPupUp()){
<app-pop-up
  (closePopUp)="closePopUp()"
  [baseDetails]="popUpDetails"
  [reservation]="selectedReservation()!"
/>
} @if(showHistoryPopup()){
<app-history-popup />
}
